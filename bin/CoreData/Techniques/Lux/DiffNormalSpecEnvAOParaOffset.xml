<?xml version="1.0" encoding="utf-8"?>
<technique vs="Lux" ps="Lux" psdefines="DIFFMAP SPECMAP">
    <pass name="base" vsdefines="NORMALMAP ENVCUBEMAP AO PARALLAX_OFFSET" psdefines="NORMALMAP ENVCUBEMAP AO PARALLAX_OFFSET" />
    <pass name="light" vsdefines="NORMALMAP AO PARALLAX_OFFSET" psdefines="NORMALMAP AO PARALLAX_OFFSET" depthtest="equal" depthwrite="false" blend="add" />
    <pass name="prepass" psdefines="NORMALMAP ENVCUBEMAP PREPASS" />
    <pass name="material" vsdefines="NORMALMAP ENVCUBEMAP" psdefines="MATERIAL NORMALMAP ENVCUBEMAP" depthtest="equal" depthwrite="false" />
    <pass name="deferred" vsdefines="NORMALMAP ENVCUBEMAP AO PARALLAX_OFFSET" psdefines="DEFERRED NORMALMAP ENVCUBEMAP AO PARALLAX_OFFSET" />
    <pass name="ibl" vsdefines="ENVCUBEMAP NORMALMAP" psdefines="ENVCUBEMAP NORMALMAP"  depthtest="equal" depthwrite="false" blend="add"/>
    <pass name="depth" vs="Depth" ps="Depth" />
    <pass name="shadow" vs="Shadow" ps="Shadow" />
</technique>
